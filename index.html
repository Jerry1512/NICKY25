<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NICKY25</title>
<style>
  :root{--accent:#0b66a8;--glass:rgba(255,255,255,0.12);--glass-2:rgba(255,255,255,0.08)}
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Poppins",sans-serif;background:linear-gradient(180deg,#eaf7ff,#eef9ff);-webkit-font-smoothing:antialiased;overflow:hidden}
  .screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;transition:opacity .45s ease,transform .45s;opacity:0;pointer-events:none}
  .screen.active{opacity:1;pointer-events:auto}
  .bg{position:absolute;inset:0;background-size:cover;background-position:center;filter:saturate(110%)}
  /* INTRO */
  #screen1 .intro-wrap{position:relative;z-index:6;text-align:center;color:#fff;padding:20px;margin-top:-6vh}
  .title{font-weight:800;font-size:clamp(20px,6vw,36px);text-shadow:0 12px 30px rgba(5,20,40,0.35)}
  .subtitle{font-size:clamp(12px,3.4vw,16px);opacity:.95;margin-top:.4rem}
  .tap{margin-top:1.3rem;padding:.9rem 2.8rem;border-radius:28px;border:0;background:var(--glass);backdrop-filter:blur(8px);color:#fff;font-weight:800;box-shadow:0 10px 30px rgba(10,40,90,0.12);cursor:pointer}
  /* panels layout */
  .panel-container{width:92%;max-width:980px;height:88%;display:flex;flex-direction:column;gap:14px;padding:20px;z-index:6}
  .panel{flex:1;min-height:80px;border-radius:16px;position:relative;perspective:1100px}
  .inner{position:absolute;inset:0;transition:transform .72s cubic-bezier(.2,.9,.2,1);transform-style:preserve-3d;border-radius:16px;overflow:hidden}
  .panel.fold .inner{transform:rotateY(180deg)}
  .face{position:absolute;inset:0;backface-visibility:hidden;border-radius:16px;overflow:hidden;display:flex;align-items:center;justify-content:center}
  .face img{width:100%;height:100%;object-fit:cover;display:block}
  .back{transform:rotateY(180deg);color:#fff}
  .back .back-bg{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(10px) brightness(.6) saturate(110%);transform:scale(1.02)}
  .back .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.36),rgba(0,0,0,0.18))}
  .back .txt{position:relative;z-index:4;padding:18px;text-align:center;font-weight:700;font-size:clamp(14px,3.4vw,20px);line-height:1.45}
  /* letter (screen3) */
  .letter-card{width:86%;max-width:920px;background:rgba(255,255,255,0.95);border-radius:14px;padding:28px;box-shadow:0 20px 48px rgba(10,30,60,0.08);color:#04293f;z-index:6;overflow:auto}
  .letter-heading{font-size:clamp(22px,5vw,40px);font-weight:900;text-align:center;margin-bottom:10px}
  .letter-para{font-size:clamp(16px,3.4vw,20px);line-height:1.7;white-space:pre-line;text-align:center}
  /* final slideshow */
  #screen5{overflow:hidden}
  .slide{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(10px) brightness(.6);transform:scale(1.02);opacity:0;transition:opacity .9s ease-in-out}
  .slide.show{opacity:1}
  .final-text{position:relative;z-index:8;display:flex;flex-direction:column;align-items:center;gap:8px;padding:20px;color:#fff}
  .final-text .line{font-size:clamp(18px,4.6vw,36px);font-weight:800;text-shadow:0 6px 18px rgba(0,0,0,0.45);opacity:0;transform:translateY(8px);transition:opacity .8s, transform .8s}
  .final-text .line.small{font-size:clamp(14px,3.6vw,20px);align-self:flex-end;margin-right:28px}
  /* responsive tweaks */
  @media(max-width:560px){
    .panel-container{gap:10px;padding:14px}
    .letter-card{width:94%;padding:18px}
    .title{font-size:22px}
  }
</style>
</head>
<body>

<!-- Audio (muted until user tap) -->
<audio id="bgm" src="assets/KaiseHua.mp3" preload="auto"></audio>

<!-- SCREEN 1 -->
<section id="screen1" class="screen active" aria-label="Intro">
  <div class="bg" style="background-image:url('assets/intro.jpeg')"></div>
  <div class="intro-wrap">
    <div class="title">HAPPY BIRTHDAY JANUDI</div>
    <div class="subtitle">A SPECIAL DAY FOR THE LOVE OF MY LIFE</div>
    <button id="tapOpen" class="tap" aria-label="Tap to open">TAP TO OPEN</button>
  </div>
</section>

<!-- SCREEN 2 (3 stacked panels) -->
<section id="screen2" class="screen" aria-hidden="true">
  <div class="bg" style="background-image:url('assets/SCREEN3.jpeg')"></div>
  <div class="panel-container" id="panels2">
    <div class="panel" data-index="0">
      <div class="inner">
        <div class="face front"><img src="assets/ima1.jpeg" alt="panel1"></div>
        <div class="face back">
          <div class="back-bg" style="background-image:url('assets/ima1.jpeg')"></div>
          <div class="overlay"></div>
          <div class="txt">Happiest birthday Nicky, always stay happy.
You’re one of the most precious parts of my life.
Every moment with you feels warm, soft, and safe.
Tap the 2nd image UMAHH.</div>
        </div>
      </div>
    </div>

    <div class="panel" data-index="1">
      <div class="inner">
        <div class="face front"><img src="assets/ima2.jpeg" alt="panel2"></div>
        <div class="face back">
          <div class="back-bg" style="background-image:url('assets/ima2.jpeg')"></div>
          <div class="overlay"></div>
          <div class="txt">Your smile, your heart, your softness…
I fall for them a little more every day.</div>
        </div>
      </div>
    </div>

    <div class="panel" data-index="2">
      <div class="inner">
        <div class="face front"><img src="assets/ima3.jpeg" alt="panel3"></div>
        <div class="face back">
          <div class="back-bg" style="background-image:url('assets/ima3.jpeg')"></div>
          <div class="overlay"></div>
          <div class="txt">No matter where life takes us,
my feelings for you will always stay the same—
pure, patient, gentle, and true.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SCREEN 3 (Letter) -->
<section id="screen3" class="screen" aria-hidden="true">
  <div class="bg" style="background-image:url('assets/ima3.jpeg')"></div>
  <div class="letter-card" role="article">
    <div class="letter-heading">HAPPIEST BIRTHDAY JANUDIIII.</div>
    <div class="letter-para">If I could describe what you mean to me.
I would say you're a rare kind of warmth—the kind that stays with me even on the coldest days.
You make life softer, happier, and more meaningful just by being in it.
I'm grateful for you in ways words will never fully express.
Thank you for being you.
for being real.
for being someone my heart chose without hesitation.
I may not always say it perfectly, and I may not always express everything the right way…
but every word I write for you, every feeling I share —
it all comes from a place that is real inside me.</div>
  </div>
</section>

<!-- SCREEN 4 (Three panels future) -->
<section id="screen4" class="screen" aria-hidden="true">
  <div class="bg" style="background-image:url('assets/SCREEN5.jpeg')"></div>
  <div class="panel-container" id="panels4">
    <div class="panel" data-index="0">
      <div class="inner">
        <div class="face front" style="display:flex;align-items:center;justify-content:center;background:transparent">
          <div class="panel-text">WHY I LOVE YOU</div>
        </div>
        <div class="face back">
          <div class="back-bg" style="background-image:url('assets/ONE.jpeg')"></div>
          <div class="overlay"></div>
          <div class="txt">I love you because you never give up on us.</div>
        </div>
      </div>
    </div>

    <div class="panel" data-index="1">
      <div class="inner">
        <div class="face front" style="display:flex;align-items:center;justify-content:center;background:transparent">
          <div class="panel-text">MY PROMISES TO YOU</div>
        </div>
        <div class="face back">
          <div class="back-bg" style="background-image:url('assets/TWO.jpeg')"></div>
          <div class="overlay"></div>
          <div class="txt">I promise I'll never let a girl come between us.</div>
        </div>
      </div>
    </div>

    <div class="panel" data-index="2">
      <div class="inner">
        <div class="face front" style="display:flex;align-items:center;justify-content:center;background:transparent">
          <div class="panel-text">THE FUTURE I WANT WITH YOU</div>
        </div>
        <div class="face back">
          <div class="back-bg" style="background-image:url('assets/THREE.jpeg')"></div>
          <div class="overlay"></div>
          <div class="txt">We get married with our parents' permission and work hard.
We have our own house.
Every morning we wake up beside each other.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SCREEN 5 (Slideshow + Final Text) -->
<section id="screen5" class="screen" aria-hidden="true">
  <div class="slide" id="slide0" style="background-image:url('assets/intro.jpeg')"></div>
  <div class="slide" id="slide1" style="background-image:url('assets/ima1.jpeg')"></div>
  <div class="slide" id="slide2" style="background-image:url('assets/ima2.jpeg')"></div>
  <div class="slide" id="slide3" style="background-image:url('assets/ima3.jpeg')"></div>
  <div class="slide" id="slide4" style="background-image:url('assets/SCREEN3.jpeg')"></div>
  <div class="slide" id="slide5" style="background-image:url('assets/SCREEN5.jpeg')"></div>
  <div class="slide" id="slide6" style="background-image:url('assets/ONE.jpeg')"></div>
  <div class="slide" id="slide7" style="background-image:url('assets/TWO.jpeg')"></div>
  <div class="slide" id="slide8" style="background-image:url('assets/THREE.jpeg')"></div>

  <div class="final-text">
    <div class="line" id="ln1">WITH ALL MY LOVE (:</div>
    <div class="line" id="ln2">FOREVER YOURS....</div>
    <div class="line" id="ln3">THANK YOU FOR LETTING ME LOVE YOU...><</div>
    <div class="line" id="ln4">SOME LOVE STORIES DON'T NEED WORDS... OURS IS ONE OF THEM>>></div>
    <div class="line small" id="ln5">YOURS JERRY</div>
  </div>
</section>

<script>
/* Helper: show only one screen */
function activateScreen(targetId){
  document.querySelectorAll('.screen').forEach(s=>{
    s.classList.remove('active');
    s.setAttribute('aria-hidden','true');
  });
  const t = document.getElementById(targetId);
  if(t){ t.classList.add('active'); t.removeAttribute('aria-hidden'); }
}

/* Wake lock attempt */
let wakeLock = null;
async function requestWakeLock(){
  try{
    if('wakeLock' in navigator) wakeLock = await navigator.wakeLock.request('screen');
  }catch(e){}
}

/* AUDIO: play only after user tap */
const audio = document.getElementById('bgm');
audio.loop = true;
audio.preload = 'auto';

/* START: user taps to open */
document.getElementById('tapOpen').addEventListener('click', async ()=>{
  try{ await audio.play(); }catch(e){}
  activateScreen('screen2');
  try{ await requestWakeLock(); }catch(e){}
});

/* Prevent default touch scrolling */
document.addEventListener('touchmove', e=>{ e.preventDefault(); }, {passive:false});

/* SCREEN 2 logic (three stacked panels) */
const panels2 = Array.from(document.querySelectorAll('#panels2 .panel'));
let opened2 = 0;
panels2.forEach((panel, idx)=>{
  panel.addEventListener('click', ()=>{
    if(panel.classList.contains('fold')) return;
    panel.classList.add('fold');
    opened2++;
    // if all opened, wait 3s then go to screen3
    if(opened2 >= panels2.length){
      setTimeout(()=>{ activateScreen('screen3'); }, 3000);
    }
  }, {passive:true});
});

/* Make sure text readable on back - auto-size handled by CSS */

/* SCREEN 3: tap anywhere to go to SCREEN 4 */
document.getElementById('screen3').addEventListener('click', ()=>{
  activateScreen('screen4');
});

/* SCREEN 4 logic, similar to screen2 but with different images/text */
const panels4 = Array.from(document.querySelectorAll('#panels4 .panel'));
let opened4 = 0;
panels4.forEach((panel, idx)=>{
  panel.addEventListener('click', ()=>{
    if(panel.classList.contains('fold')) return;
    panel.classList.add('fold');
    opened4++;
    if(opened4 >= panels4.length){
      setTimeout(()=>{ activateScreen('screen5'); startSlideshow(); startFinalLines(); }, 3000);
    }
  }, {passive:true});
});

/* SLIDESHOW for screen5 */
const slideEls = Array.from(document.querySelectorAll('#screen5 .slide'));
let slideI = 0, slideInterval = null;
function startSlideshow(){
  slideEls.forEach(el=>el.classList.remove('show'));
  slideEls[0].classList.add('show');
  slideI = 0;
  if(slideInterval) return;
  slideInterval = setInterval(()=>{
    slideEls[slideI].classList.remove('show');
    slideI = (slideI + 1) % slideEls.length;
    slideEls[slideI].classList.add('show');
  }, 2000);
}

/* Final lines animation */
function startFinalLines(){
  const ids = ['ln1','ln2','ln3','ln4','ln5'];
  let d = 400;
  ids.forEach((id, i)=>{
    setTimeout(()=>{
      const el = document.getElementById(id);
      el.style.opacity = 1;
      el.style.transform = 'translateY(0)';
    }, d);
    d += 1400;
  });
  // then fade out in order
  let outStart = d + 800;
  ids.forEach((id,i)=>{
    setTimeout(()=>{
      const el = document.getElementById(id);
      el.style.transition = 'opacity 900ms ease';
      el.style.opacity = 0;
    }, outStart + i*600);
  });
}

/* Accessibility: start at screen1 */
activateScreen('screen1');

</script>
</body>
</html>
